{
  "projectName": "DRE 2",
  "description": "Sistema de gestão financeira com foco em Demonstrativo de Resultado do Exercício (DRE), controle de contas a pagar/receber e gestão de colaboradores.",
  "techStack": {
    "frontend": {
      "framework": "React 19",
      "language": "TypeScript",
      "styling": "Tailwind CSS",
      "buildTool": "Vite",
      "routing": "React Router DOM",
      "charts": "Recharts",
      "icons": "Lucide React"
    },
    "backend": {
      "platform": "Supabase",
      "database": "PostgreSQL",
      "auth": "Supabase Auth",
      "security": "Row Level Security (RLS)",
      "serverless": "Edge Functions"
    }
  },
  "mainFeatures": [
    {
      "name": "Autenticação e Ativação",
      "description": "Sistema de login, registro e ativação por código",
      "components": ["SignUpPage", "LoginPage", "ActivationCodePage"],
      "services": ["activationCodeService"],
      "routes": ["/login", "/register", "/activation"]
    },
    {
      "name": "Gestão de Colaboradores",
      "description": "Sistema de convites e permissões para colaboradores",
      "components": ["GerenciarColaboradores", "ListarColaboradores", "ConvidarColaborador", "AceitarConvitePage"],
      "hooks": ["usePermissions", "useHasPermission", "useCanAccess"],
      "guards": ["PermissionGuard", "PermissionGate", "RoleGate", "withPermissions"],
      "services": ["CollaboratorsService"],
      "routes": ["/settings/collaborators", "/accept-invitation/:token"]
    },
    {
      "name": "Gestão de Empresas",
      "description": "Cadastro e gerenciamento de empresas",
      "components": ["EmpresasList", "EmpresaForm", "EmpresaDetails"],
      "contexts": ["CompanyContext"],
      "routes": ["/empresas", "/empresas/nova", "/empresas/:id"]
    },
    {
      "name": "Plano de Contas",
      "description": "Gerenciamento do plano de contas contábeis",
      "components": ["ContaForm", "ContasList", "CategoriasGuide"],
      "types": ["ContaContabil", "ContaCategoria"],
      "routes": ["/contas", "/contas/nova"]
    },
    {
      "name": "Lançamentos Financeiros",
      "description": "Registro e gestão de lançamentos financeiros",
      "components": ["LancamentoForm", "LancamentosList"],
      "types": ["Lancamento"],
      "routes": ["/lancamentos", "/lancamentos/novo"]
    },
    {
      "name": "Contas a Pagar",
      "description": "Gestão de contas a pagar com comprovantes",
      "components": ["ContaPagarForm", "ContasPagarList", "ContaPagarDetails"],
      "hooks": ["useContaPagarStatus"],
      "routes": ["/contas-pagar", "/contas-pagar/nova", "/contas-pagar/:id"]
    },
    {
      "name": "Dashboard",
      "description": "Visão geral com indicadores financeiros",
      "components": ["Dashboard", "DashboardCards", "RevenueChart", "MargensEvolutionChart", "DREStructureChart"],
      "routes": ["/dashboard"]
    },
    {
      "name": "Relatórios",
      "description": "Relatórios financeiros e análises",
      "components": ["ReportsList", "DREComparativoReport", "FluxoCaixaReport", "LancamentosReport", "DashboardAnalyticReport", "RevenueAnalysisReport"],
      "services": ["DREService"],
      "routes": ["/relatorios"]
    },
    {
      "name": "Configurações",
      "description": "Configurações do sistema e da empresa",
      "components": ["ConfiguracoesPage", "ConfigurationStatus", "SupabaseConnectionTest"],
      "routes": ["/configuracoes"]
    }
  ],
  "dataModels": [
    {
      "name": "empresas",
      "fields": ["id", "razao_social", "cnpj", "user_id", "created_at"]
    },
    {
      "name": "contas_contabeis",
      "fields": ["id", "codigo", "nome", "tipo", "categoria", "company_id", "parent_id"]
    },
    {
      "name": "lancamentos",
      "fields": ["id", "data", "valor", "descricao", "conta_id", "company_id", "tipo"]
    },
    {
      "name": "contas_a_pagar",
      "fields": ["id", "fornecedor", "valor", "vencimento", "status", "company_id", "comprovante_url"]
    },
    {
      "name": "profiles",
      "fields": ["id", "user_id", "nome_completo", "telefone", "created_at"]
    },
    {
      "name": "collaborators",
      "fields": ["id", "company_id", "user_id", "role", "created_at"]
    },
    {
      "name": "invitations",
      "fields": ["id", "company_id", "email", "role", "token", "invited_by", "created_at", "expires_at"]
    },
    {
      "name": "activation_codes",
      "fields": ["id", "code", "email", "nome", "empresa", "used", "created_at"]
    }
  ],
  "userFlows": [
    {
      "name": "Ativação e Cadastro",
      "steps": [
        "Usuário solicita código de ativação",
        "Sistema gera código e envia para administrador",
        "Administrador fornece código ao usuário",
        "Usuário utiliza código para acessar tela de cadastro",
        "Usuário completa cadastro e acessa o sistema"
      ]
    },
    {
      "name": "Gestão de Contas a Pagar",
      "steps": [
        "Usuário cadastra conta a pagar",
        "Sistema notifica sobre contas próximas do vencimento",
        "Usuário marca conta como paga e anexa comprovante",
        "Sistema gera lançamento no DRE"
      ]
    },
    {
      "name": "Convite de Colaboradores",
      "steps": [
        "Proprietário/Admin convida colaborador por email",
        "Sistema envia email com link de convite",
        "Colaborador acessa link e cria conta ou faz login",
        "Colaborador é adicionado à empresa com permissões definidas"
      ]
    },
    {
      "name": "Geração de Relatórios",
      "steps": [
        "Usuário seleciona tipo de relatório",
        "Usuário define período e filtros",
        "Sistema processa dados e exibe relatório",
        "Usuário pode exportar ou analisar dados interativamente"
      ]
    }
  ],
  "testingPriorities": [
    {
      "feature": "Autenticação e Ativação",
      "priority": "Alta",
      "testCases": ["Login com credenciais válidas", "Solicitação de código de ativação", "Uso de código para registro"]
    },
    {
      "feature": "Gestão de Colaboradores",
      "priority": "Alta",
      "testCases": ["Convite de colaborador", "Aceitação de convite", "Verificação de permissões"]
    },
    {
      "feature": "Dashboard e Relatórios",
      "priority": "Média",
      "testCases": ["Carregamento de dados do DRE", "Visualização de gráficos", "Filtros de período"]
    },
    {
      "feature": "Contas a Pagar",
      "priority": "Média",
      "testCases": ["Cadastro de conta", "Marcação como paga", "Upload de comprovante"]
    }
  ],
  "environmentVariables": [
    {
      "name": "VITE_SUPABASE_URL",
      "description": "URL do projeto Supabase",
      "required": true
    },
    {
      "name": "VITE_SUPABASE_ANON_KEY",
      "description": "Chave anônima do Supabase",
      "required": true
    },
    {
      "name": "VITE_APP_URL",
      "description": "URL base da aplicação",
      "required": false
    }
  ]
}